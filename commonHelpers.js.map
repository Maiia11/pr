{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/search.js","../src/js/pagination.js","../src/js/event.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseUrl = \"https://app.ticketmaster.com/discovery/v2/\";\n\nconst apiKey = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\n\n\n// url:\"https://app.ticketmaster.com/discovery/v2/events.json?size=1&apikey={apikey}\"\n\n export async function getId(id) {\n    const response = await axios.get(`${baseUrl}events.json?id=${id}&apikey=${apiKey}`);\n    return response.data;\n    \n}\ngetId('Z7r9jZ1AdJ9AK')\n\nexport async function getEvents(page, qwery) {\n    const response = await axios.get(`${baseUrl}events.json?page=${page}&apikey=${apiKey}&keyword${qwery}`);\n    return response.data;\n    \n}\n\n// getEvents(1)\n","import {getData} from \"./event\"\nimport {page} from \"./pagination\"\n\nconst form = document.querySelector(\"#form-search\");\nconst events = document.querySelector(\".event-list\");\n\nform.addEventListener(\"submit\", handleSubmit);\n\n export let qwery = \"\";\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    \n    qwery = event.target.elements.qwerySearch.value;\n    events.innerHTML = \"\";\n    getData(page, qwery)\n}\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { getData } from \"./event\";\nimport { qwery } from \"./search\";\n\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>'\n  }\n};\n\n export const pagination = new Pagination('pagination', options);\n\n export const page = pagination.getCurrentPage()\n\n export function reset(totalItem) {\n    pagination.reset(totalItem);\n}\n\npagination.on('afterMove', (event) => {\n     const currentPage = event.page;\n    console.log(currentPage);\n    getData(currentPage,qwery);\n});\n\n","import { getEvents } from \"./api\"\nimport { page, reset } from \"./pagination\"\nimport {qwery} from \"./search\"\n\nconst events = document.querySelector(\".event-list\");\n\nfunction markupCreate(data) {\n    const markup = data.map(({ name, id }) => `\n    <li id=${id}>\n    <p>${name}</p>\n    </li>`).join(\"\");\n\n    events.innerHTML = markup;\n    \n}\n\n export async function getData(page, qwery) { \n    const data = await getEvents(page, qwery);\n    if (page === 1) {\n        reset(data.page.totalElements)\n    }\n    markupCreate(data._embedded.events)\n}\n\ngetData(page, qwery)"],"names":["baseUrl","apiKey","getId","id","axios","getEvents","page","qwery","form","events","handleSubmit","event","getData","options","pagination","Pagination","reset","totalItem","currentPage","markupCreate","data","markup","name"],"mappings":"6vBAEA,MAAMA,EAAU,6CAEVC,EAAS,mCAKP,eAAeC,EAAMC,EAAI,CAE7B,OADiB,MAAMC,EAAM,IAAI,GAAGJ,CAAO,kBAAkBG,CAAE,WAAWF,CAAM,EAAE,GAClE,IAEpB,CACAC,EAAM,eAAe,EAEd,eAAeG,EAAUC,EAAMC,EAAO,CAEzC,OADiB,MAAMH,EAAM,IAAI,GAAGJ,CAAO,oBAAoBM,CAAI,WAAWL,CAAM,WAAWM,CAAK,EAAE,GACtF,IAEpB,CCjBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,aAAa,EAEnDD,EAAK,iBAAiB,SAAUE,CAAY,EAEpC,IAAIH,EAAQ,GAEpB,SAASG,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpBJ,EAAQI,EAAM,OAAO,SAAS,YAAY,MAC1CF,EAAO,UAAY,GACnBG,EAAQN,EAAMC,CAAK,CACvB,CCXA,MAAMM,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YAAa,iEACb,WACE,mGAGF,mBACE,gHAGF,WACE,mGAGH,CACH,EAEcC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EAEjDP,EAAOQ,EAAW,eAAgB,EAExC,SAASE,EAAMC,EAAW,CAC9BH,EAAW,MAAMG,CAAS,CAC9B,CAEAH,EAAW,GAAG,YAAcH,GAAU,CACjC,MAAMO,EAAcP,EAAM,KAC3B,QAAQ,IAAIO,CAAW,EACvBN,EAAQM,EAAYX,CAAK,CAC7B,CAAC,ECvCD,MAAME,EAAS,SAAS,cAAc,aAAa,EAEnD,SAASU,EAAaC,EAAM,CACxB,MAAMC,EAASD,EAAK,IAAI,CAAC,CAAE,KAAAE,EAAM,GAAAnB,CAAE,IAAO;AAAA,aACjCA,CAAE;AAAA,SACNmB,CAAI;AAAA,UACH,EAAE,KAAK,EAAE,EAEfb,EAAO,UAAYY,CAEvB,CAEQ,eAAeT,EAAQN,EAAMC,EAAO,CACxC,MAAMa,EAAO,MAAMf,EAAUC,EAAMC,CAAK,EACpCD,IAAS,GACTU,EAAMI,EAAK,KAAK,aAAa,EAEjCD,EAAaC,EAAK,UAAU,MAAM,CACtC,CAEAR,EAAQN,EAAMC,CAAK"}